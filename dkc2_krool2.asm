;---------- HOW TO USE


;get asar: https://github.com/RPGHacker/asar/releases/download/v1.71/asar171.zip

;create a new text file and copy-paste the following in it: asar.exe dkc2_krool2.asm DKC2_Unveiled.sfc
;save with the extension .bat in the asar folder

;put a rom in the asar folder and run the .bat file to patch


;---------- asar / rom setup

math pri on : math round off : hirom
org $3AC3D0

;-----

;0x00w = function offset: 0x95ED = spike ball, 0x99A8 = purple gas
;0x02w = x speed, px.f
;0x04w = y speed, px.f
;0x06w = x speed target, px.f
;0x08w = y speed target, px.f
;0x0Aw = ?, stored in obj->0x42
;0x0Cw = ?, stored in obj->0x44
;0x0Ew = cooldown timer after shot
;0x10w = height offset, px

;-----

;         x          y      x2         y2                   timer height
dw $99A8, 256*2,     256*0, 256*2,     256*0, $0000, $0000, 120,  0

dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  70,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  65,  0
dw $95ED, 256*2.75,  256*0, 256*2.75,  256*0, $0000, $0000,  60,  16
dw $95ED, 256*2.75,  256*0, 256*2.75,  256*0, $0000, $0000,  55, -16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  50,  16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  45, -16
dw $95ED, 256*3.25,  256*0, 256*3.25,  256*0, $0000, $0000, 150,  0

dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  50,  12
dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 120, -16

dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  45,  16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  40, -16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  40,  16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  35, -16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  35,  16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  30, -16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000,  27,  16
dw $95ED, 256*3,     256*0, 256*3,     256*0, $0000, $0000, 150, -16

dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  45,  0
dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  45,  0
dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 120,  0

dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  50,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  40,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  40,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  35,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  35,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  30,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  30,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 210,  0

dw $99A8, 256*1.5,   256*0, 256*1.5,   256*0, $0000, $0000,  60,  0
dw $99A8, 256*3.5,   256*0, 256*3.5,   256*0, $0000, $0000,  90,  0

dw $95ED, 256*1.75,  256*0, 256*1.75,  256*0, $0000, $0000,  45,  0
dw $95ED, 256*4.5,   256*0, 256*4.5,   256*0, $0000, $0000, 160,  0

dw $95ED, 256*1.625, 256*0, 256*1.625, 256*0, $0000, $0000,  30,  0
dw $95ED, 256*4.5,   256*0, 256*4.5,   256*0, $0000, $0000,  45,  0
dw $95ED, 256*4.5,   256*0, 256*4.5,   256*0, $0000, $0000, 160,  0

dw $95ED, 256*1.5,   256*0, 256*1.5,   256*0, $0000, $0000,  30,  0
dw $95ED, 256*4.5,   256*0, 256*4.5,   256*0, $0000, $0000,  45,  0
dw $95ED, 256*4.5,   256*0, 256*4.5,   256*0, $0000, $0000,  45,  0
dw $95ED, 256*4.5,   256*0, 256*4.5,   256*0, $0000, $0000, 180,  0

dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  15,  16
dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  15,  0
dw $99A8, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 120, -16

dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  20,  16
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  20,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 105, -16

dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  20, -16
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  20,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 105,  16

dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  18,  16
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  18,  8
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  36,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 105, -16

dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  18, -16
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  18, -8
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000,  36,  0
dw $95ED, 256*2.5,   256*0, 256*2.5,   256*0, $0000, $0000, 150,  16

dw $95ED, 256*1.75,  256*0, 256*1.75,  256*0, $0000, $0000, 600,  0
